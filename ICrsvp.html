<form id="rsvpForm">
  <input type="text" name="name" placeholder="Your Name" required>
  <input type="email" name="email" placeholder="Email" required>
  <input type="number" name="guests" placeholder="Number of Guests" min="1" required>
  <select name="meal" required>
    <option value="">Meal Choice</option>
    <option value="Chicken">Chicken</option>
    <option value="Beef">Beef</option>
    <option value="Vegetarian">Vegetarian</option>
  </select>

  <!-- +1 Question -->
  <label>Will you bring a +1?</label>
  <select id="plusOneSelect" name="plusOne" required>
    <option value="">Select</option>
    <option value="No">No</option>
    <option value="Yes">Yes</option>
  </select>

  <!-- +1 Name Field (hidden by default) -->
  <input type="text" name="plusOneName" id="plusOneName" placeholder="+1 Name and Surname" style="display:none;">

  <textarea name="message" placeholder="Any message for us?"></textarea>
  <button type="submit">Submit RSVP</button>
</form>

<script>
  const form = document.getElementById('rsvpForm');
  const plusOneSelect = document.getElementById('plusOneSelect');
  const plusOneName = document.getElementById('plusOneName');

  // Show/hide +1 name field
  plusOneSelect.addEventListener('change', () => {
    if (plusOneSelect.value === "Yes") {
      plusOneName.style.display = "block";
      plusOneName.required = true;
    } else {
      plusOneName.style.display = "none";
      plusOneName.required = false;
      plusOneName.value = '';
    }
  });

  // Form submission
  form.addEventListener('submit', e => {
    e.preventDefault();
    const data = new FormData(form);
    fetch('YOUR_WEB_APP_URL_HERE', {
      method: 'POST',
      body: new URLSearchParams(data)
    })
    .then(response => response.text())
    .then(text => {
      alert("Thank you! Your RSVP has been recorded.");
      form.reset();
      plusOneName.style.display = "none";
    })
    .catch(err => {
      alert("Oops! Something went wrong.");
    });
  });
</script>

